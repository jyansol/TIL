# 평가와 일급
## 평가
코드가 계산되어 값을 만드는것
```js
1 + 2 
평가되면
3

[1, 2]
배열로서 [1,2]로 평가된다
```

## 일급
- 값으로 다룰 수 있다.
- 변수에 담을 수 있다.
- 함수의 인자, 결과로 사용될 수 있다.
```js
// a 라는 변수에 담고, 10은 값으로 다뤄질 수 있다.
const a = 10;
// 함수의 인자로 전달 될 수 있고, 함수의 return 값으로 사용될 수 있다.
const add = a => a + 10;
const r = add(a)
```

## 일급함수
자바스크립트에서 함수는 일급이다. => 함수를 값으로 다룰 수 있다. 변수에 함수를 값으로 담아서 다룰 수 있다. 결과로 만들어서 전달 할 수도 있다. 
```js
const f1 = () => () => 1;
// 함수의 결과값으로 함수를 전달 할 수 있다.
const f2 = f1()
console.log(f2)
// () => 1
console.log(f2())
// 1
```

## 고차함수
- 함수를 값으로 다루는 함수
1. 함수를 인자로 받아서 실행하는 함수
```js
const apply1 = f => f(1);
// 함수를 받아서 그 함수에 인자로 1을 넣어 실행할 함수.
const add2 = a => a + 2;
// 인자를 받아와서 계산할 함수.
apply1(add2)
// 3 으로 평가된다.
apply1(a => a - 1)
// 0 으로 평가된다.

const times = (f, n) => {
  let i = -1;
  while (++i < n) f(i);
}
// 함수와 숫자를 받아와서 숫자만큼 함수를 실행한다.
times(log, 3)
// 0
// 1
// 2
times(a => log(a + 10), 3)
// 10
// 11
// 12
```
=> 어플리케이티드 프로그래밍
2. 함수를 만들어 리턴하는 함수(클로저를 만들어 리턴하는 함수)
```js
const addMaker = a => b => a + b;
// a 를 받고, b 를 받아서 a 와 b 를 더한다.
// 클로저는 b => a + b에서 a(인자)를 기억한다.
// 클로저를 리턴하는 함수
// 함수가 함수를 리턴할 때는 결국 클로저를 만들어 사용한다.
const add10 = addMaker(10);
console.log(add10)
// b => a+b
add10(5)
// 15
add10(10)
// 20
```

### 클로저(Closure)
보통의 경우, 안쪽 스코프에서 정의된 변수는 바깥 스코프에서 접근할 수 없다. 그런데 안쪽 스코프에서 만들어진 함수에서 바깥 스코프의 변수를 사용하고 있다면 이 함수를 통해 변수를 계속 사용할 수 있다.
```js
function func1(x) {
  // 여기서 반환되는 함수는 바깥 스코프에 있는 변수 `x`를 사용하고 있습니다.
  return function () {
    return x;
  }
}

const func2 = func1(1);

// `func1`의 실행은 끝났지만, `func2`를 통해서 변수 `x`를 사용할 수 있습니다.
console.log(func2()); // 1
```
위와같이 바깥스코프에 있는 변수를 가져다 사용하는 `함수`와 변수가 저장되는 `저장소`를 ***클로저*** 라고한다. 

~~클로저의 성질은 정해진 방법을 통해서만 데이터에 접근할 수 있도록 제한을 두는데 활용된다.~~